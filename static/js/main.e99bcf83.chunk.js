(this["webpackJsonpemployee-dictionary"]=this["webpackJsonpemployee-dictionary"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,r,l=n(1),i=n.n(l),o=n(7),a=n.n(o),s=(n(16),n(17),n(3)),d=n(9),u=n(10),j=n(11),b=n(6),m=(n(18),n(2)),p=function(e){var t=0;return e.forEach((function(e){e.id>t&&(t=e.id)})),t},h=(c=function(){function e(){Object(u.a)(this,e),Object(d.a)(this,"employees",r,this),Object(m.m)(this)}return Object(j.a)(e,[{key:"add",value:function(e){var t=Object(s.a)(Object(s.a)({},e),{},{id:p(this.employees)+1});return this.employees.push(t),t}},{key:"remove",value:function(e){this.employees=this.employees.filter((function(t){return t.id!==e}))}},{key:"update",value:function(e){var t=this.employees.findIndex((function(t){return t.id===e.id}));this.employees[t]=e}}]),e}(),r=Object(b.a)(c.prototype,"employees",[m.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{id:1,fullName:"\u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432 \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",position:"\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",birthday:"1998-07-12",gender:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430",fired:!0,colleagues:[]},{id:2,fullName:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",position:"\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",birthday:"1999-12-01",gender:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430",fired:!1,colleagues:[]},{id:3,fullName:"\u041d\u0435\u0441\u0442\u0435\u0440\u0430\u043a \u0421\u0435\u0440\u0433\u0435\u0439 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",birthday:"1999-08-30",gender:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430",fired:!0,colleagues:[]},{id:4,fullName:"\u0420\u0435\u043b\u0435\u0432\u0438\u043d \u041c\u0430\u043a\u0441\u0438\u043c \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u0438\u0447",position:"\u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440",birthday:"1989-11-30",gender:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430",fired:!1,colleagues:[]}]}}),Object(b.a)(c.prototype,"add",[m.f],Object.getOwnPropertyDescriptor(c.prototype,"add"),c.prototype),Object(b.a)(c.prototype,"remove",[m.f],Object.getOwnPropertyDescriptor(c.prototype,"remove"),c.prototype),Object(b.a)(c.prototype,"update",[m.f],Object.getOwnPropertyDescriptor(c.prototype,"update"),c.prototype),c),f=(new h,Object(l.createContext)({})),O=f.Provider,v=n(5),y=n(4),x=n(0),g=function(e){var t=e.employee,n=e.onClick,c=e.className,r=void 0===c?"":c;return Object(x.jsxs)("tr",{className:"employee-item "+r,onClick:function(){return n(t.id)},children:[Object(x.jsx)("td",{children:t.fullName}),Object(x.jsx)("td",{children:t.gender}),Object(x.jsx)("td",{children:t.position}),Object(x.jsx)("td",{children:t.birthday}),Object(x.jsx)("td",{children:t.fired?"\u0434\u0430":"\u043d\u0435\u0442"})]})},N=Object(y.a)((function(e){var t=e.employees,n=e.onEmployeeClick,c=e.selectedEmployee;return Object(x.jsxs)("table",{className:"employee-list table table-hover table-bordered mr-2",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"\u0424\u0418\u041e"}),Object(x.jsx)("td",{children:"\u041f\u043e\u043b"}),Object(x.jsx)("td",{children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(x.jsx)("td",{children:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(x.jsx)("td",{children:"\u0423\u0432\u043e\u043b\u0435\u043d"})]})}),Object(x.jsx)("tbody",{children:t.map((function(e,t){var r=e===c;return Object(x.jsx)(g,{employee:e,onClick:n,className:r?"selected-employee":""},t)}))})]})})),k=Object(y.a)((function(e){var t,n,c,r=e.employee,l=e.employeeStore,i=e.errors,o=e.onInput,a=l.employees,d=a.filter((function(e){return e.id!==(null===r||void 0===r?void 0:r.id)})),u=function(e){l.update(Object(s.a)(Object(s.a)({},r),{},{fullName:e})),o()},j=function(e){l.update(Object(s.a)(Object(s.a)({},r),{},{gender:e})),o()};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{className:"form-label",children:"\u0424\u0418\u041e"}),Object(x.jsx)("input",{value:null!==(t=null===r||void 0===r?void 0:r.fullName)&&void 0!==t?t:"",onInput:function(e){return u(e.currentTarget.value)},className:"form-control",name:"full-name"}),Object(x.jsx)("span",{className:"text-danger",children:i.fullName})]}),Object(x.jsxs)("div",{className:"form-check",children:[Object(x.jsx)("input",{checked:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430"===(null===r||void 0===r?void 0:r.gender),onChange:function(e){return j(e.currentTarget.value)},type:"radio",value:"\u043c\u0443\u0436\u0447\u0438\u043d\u0430",id:"male",name:"gender",className:"form-check-input"}),Object(x.jsx)("label",{className:"form-check-label",htmlFor:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"})]}),Object(x.jsxs)("div",{className:"form-check mb-3",children:[Object(x.jsx)("input",{checked:"\u0436\u0435\u043d\u0449\u0438\u043d\u0430"===(null===r||void 0===r?void 0:r.gender),onChange:function(e){return j(e.currentTarget.value)},type:"radio",value:"\u0436\u0435\u043d\u0449\u0438\u043d\u0430",id:"female",name:"gender",className:"form-check-input"}),Object(x.jsx)("label",{className:"form-check-label",htmlFor:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(x.jsx)("select",{name:"position",className:"form-select",onChange:function(e){return t=e.currentTarget.value,l.update(Object(s.a)(Object(s.a)({},r),{},{position:t})),void o();var t},children:["\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440","\u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440"].map((function(e,t){return Object(x.jsx)("option",{value:e,selected:(null===r||void 0===r?void 0:r.position)===e,children:e},t)}))})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{children:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(x.jsx)("input",{value:null!==(n=null===r||void 0===r?void 0:r.birthday)&&void 0!==n?n:"",onChange:function(e){return t=e.currentTarget.value,l.update(Object(s.a)(Object(s.a)({},r),{},{birthday:t})),void o();var t},type:"date",className:"form-select"})]}),Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{checked:null!==(c=null===r||void 0===r?void 0:r.fired)&&void 0!==c?c:"",className:"form-check-input",onChange:function(e){return t=e.currentTarget.checked,l.update(Object(s.a)(Object(s.a)({},r),{},{fired:t})),void o();var t},type:"checkbox",id:"fired"}),Object(x.jsx)("label",{htmlFor:"fired",children:"\u0423\u0432\u043e\u043b\u0435\u043d"})]}),Object(x.jsxs)("label",{children:["\u041a\u043e\u043b\u043b\u0435\u0433\u0438",Object(x.jsx)("select",{className:"form-select colleagues-select",onChange:function(e){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);var c=a.filter((function(e){return t.includes(e.id.toString())}));l.update(Object(s.a)(Object(s.a)({},r),{},{colleagues:c})),o()}(e.currentTarget.selectedOptions)},multiple:!0,children:d.map((function(e,t){var n,c=null===r||void 0===r||null===(n=r.colleagues)||void 0===n?void 0:n.includes(e);return Object(x.jsx)("option",{value:e.id,selected:c,children:e.fullName},t)}))})]})]})})),C=Object(y.a)((function(e){var t=e.employee,n=e.employeeStore,c=e.initialErrors,r=e.onInput,i=Object(l.useState)(c),o=Object(v.a)(i,2),a=o[0],s=o[1];Object(l.useEffect)((function(){s(c)}),[c]);return Object(x.jsx)("div",{className:"card card-body employee-form",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(k,{employeeStore:n,employee:t,errors:a,onInput:r}),Object(x.jsx)("button",{disabled:void 0===t,onClick:function(){n.remove(t.id),s({has:!1})},className:"btn btn-outline-danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})})),w=function(e){var t={has:!1};return e&&""!==(null===e||void 0===e?void 0:e.fullName)||(t.fullName="\u0424\u0418\u041e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",t.has=!0),t},S=Object(y.a)((function(){var e=Object(l.useContext)(f).employee,t=e.employees,n=Object(l.useState)(),c=Object(v.a)(n,2),r=c[0],i=c[1],o=Object(l.useState)({}),a=Object(v.a)(o,2),s=a[0],d=a[1],u=function(e){return t.find((function(t){return t.id===e}))},j=function(){var e=u(r),t=w(e);return e&&t.has?(d(t),!0):(d({has:!1}),!1)};return Object(x.jsxs)("div",{className:"employee-dictionary",children:[Object(x.jsx)("div",{className:"row mb-3",children:Object(x.jsx)("div",{className:"col-md-8 new-employee-btn-wrap",children:Object(x.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){if(!j()){var t=e.add({id:-1,fullName:"",fired:!1,position:"\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a",gender:"\u0436\u0435\u043d\u0449\u0438\u043d\u0430",birthday:"",colleagues:[]});i(t.id)}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})}),Object(x.jsxs)("div",{className:"row justify-content-center",children:[Object(x.jsx)("div",{className:"col-md-8",children:Object(x.jsx)(N,{selectedEmployee:u(r),employees:t,onEmployeeClick:function(e){j()||i(e)}})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(C,{initialErrors:s,employeeStore:e,employee:u(r),onInput:function(){var e=u(r),t=w(e);d(t)}})})]})]})}));var E=function(){var e=new h;return Object(x.jsx)(O,{value:{employee:e},children:Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(S,{})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),l(e),i(e)}))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),T()}},[[21,1,2]]]);
//# sourceMappingURL=main.e99bcf83.chunk.js.map