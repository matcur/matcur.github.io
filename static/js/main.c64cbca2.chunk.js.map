{"version":3,"sources":["utils/maxId.ts","stores/EmployeeStore.ts","stores/index.ts","components/employees/EmployeeRow.tsx","components/employees/EmployeeTable.tsx","components/forms/EmployeeForm/EmployeeFormInputs.tsx","components/forms/EmployeeForm/index.tsx","utils/validateEmloyee.ts","components/employees/EmployeeDictionary.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["maxId","items","forEach","i","id","EmployeeStore","employees","fullName","position","birthday","gender","fired","colleagues","makeAutoObservable","this","employee","newEmployee","push","filter","e","index","findIndex","StoresContext","createContext","StoresProvider","Provider","EmployeeRow","onClick","className","EmployeeTable","observer","onEmployeeClick","selectedEmployee","map","isSelected","EmployeeFormInputs","employeeStore","errors","onInput","possibleColleagues","handleFullNameInput","update","handleGenderChange","value","currentTarget","name","checked","onChange","type","htmlFor","selected","selectedOptions","ids","length","includes","toString","handleColleagueChange","multiple","possibleColleague","isColleague","EmployeeForm","setErrors","disabled","undefined","remove","has","validateEmployee","EmployeeDictionary","useContext","useState","selectedId","setSelectedId","getEmployById","find","hasErrors","add","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c64cbca2.chunk.js","sourcesContent":["export const maxId = (items: {id: number}[]) => {\r\n  let maxId = 0;\r\n  items.forEach(i => {\r\n    if (i.id > maxId) {\r\n      maxId = i.id;\r\n    }\r\n  })\r\n\r\n  return maxId;\r\n}","import {makeAutoObservable} from \"mobx\";\r\nimport {Employee, EmployeeFormData} from \"../models\";\r\nimport {maxId} from \"../utils/maxId\";\r\n\r\nexport class EmployeeStore {\r\n  employees: Employee[] = [\r\n    {\r\n      id: 1,\r\n      fullName: 'Алексеев Алексей Алексеевич',\r\n      position: 'разработчик',\r\n      birthday: '1998-07-12',\r\n      gender: 'мужчина',\r\n      fired: true,\r\n      colleagues: [],\r\n    },\r\n    {\r\n      id: 2,\r\n      fullName: 'Иванов Иван Иванович',\r\n      position: 'разработчик',\r\n      birthday: '1999-12-01',\r\n      gender: 'мужчина',\r\n      fired: false,\r\n      colleagues: [],\r\n    },\r\n    {\r\n      id: 3,\r\n      fullName: 'Нестерак Сергей Петрович',\r\n      position: 'менеджер',\r\n      birthday: '1999-08-30',\r\n      gender: 'мужчина',\r\n      fired: true,\r\n      colleagues: [],\r\n    },\r\n    {\r\n      id: 4,\r\n      fullName: 'Релевин Максим Алексеевич',\r\n      position: 'рекрутер',\r\n      birthday: '1989-11-30',\r\n      gender: 'мужчина',\r\n      fired: false,\r\n      colleagues: [],\r\n    },\r\n  ];\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  add(employee: EmployeeFormData) {\r\n    let newEmployee = {...employee, id: maxId(this.employees) + 1};\r\n    this.employees.push(newEmployee);\r\n\r\n    return newEmployee;\r\n  }\r\n\r\n  remove(id: number) {\r\n    this.employees = this.employees.filter(e => e.id !== id);\r\n  }\r\n\r\n  update(employee: Employee) {\r\n    const index = this.employees.findIndex(e => e.id === employee.id);\r\n    this.employees[index] = employee;\r\n  }\r\n}\r\n\r\n","import {createContext, useContext} from \"react\";\r\nimport {EmployeeStore} from \"./EmployeeStore\";\r\n\r\nconst stores = {\r\n  employee: new EmployeeStore(),\r\n}\r\n\r\nexport const StoresContext = createContext({} as typeof stores);\r\nexport const StoresProvider = StoresContext.Provider;\r\n\r\nexport const useStores = () => useContext(StoresContext);","import {Employee} from \"../../models\";\r\nimport {FC} from \"react\";\r\n\r\ntype Props = {\r\n  employee: Employee\r\n  onClick: (id: number) => void\r\n  className: string\r\n}\r\n\r\nexport const EmployeeRow: FC<Props> = ({employee, onClick, className = ''}) => {\r\n  return (\r\n    <tr className={'employee-item ' + className} onClick={() => onClick(employee.id)}>\r\n      <td>{employee.fullName}</td>\r\n      <td>{employee.gender}</td>\r\n      <td>{employee.position}</td>\r\n      <td>{employee.birthday}</td>\r\n      <td>{employee.fired? 'да': 'нет'}</td>\r\n    </tr>\r\n  )\r\n}","import {Employee} from \"../../models\";\r\nimport {FC} from \"react\";\r\nimport {EmployeeRow} from \"./EmployeeRow\";\r\nimport {observer} from \"mobx-react\";\r\n\r\ntype Props = {\r\n  employees: Employee[]\r\n  onEmployeeClick: (id: number) => void\r\n  selectedEmployee: Employee\r\n}\r\n\r\nexport const EmployeeTable: FC<Props> = observer(({employees, onEmployeeClick, selectedEmployee}) => {\r\n  const makeEmployee = (employee: Employee, index: number) => {\r\n    const isSelected = employee === selectedEmployee;\r\n\r\n    return <EmployeeRow\r\n      key={index}\r\n      employee={employee}\r\n      onClick={onEmployeeClick}\r\n      className={isSelected? 'selected-employee': ''}/>;\r\n  }\r\n\r\n  return (\r\n    <table className=\"employee-list table table-hover table-bordered mr-2\">\r\n      <thead>\r\n        <tr>\r\n          <td>ФИО</td>\r\n          <td>Пол</td>\r\n          <td>Должность</td>\r\n          <td>День рождения</td>\r\n          <td>Уволен</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {employees.map(makeEmployee)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n})","import {observer} from \"mobx-react\";\r\nimport {FC} from \"react\";\r\nimport {Employee} from \"../../../models\";\r\nimport {EmployeeStore} from \"../../../stores/EmployeeStore\";\r\nimport {Errors} from \"../../employees/EmployeeDictionary\";\r\n\r\ntype Props = {\r\n  employeeStore: EmployeeStore\r\n  employee: Employee\r\n  errors: Errors\r\n  onInput: () => void\r\n}\r\n\r\nexport const EmployeeFormInputs: FC<Props> = observer(\r\n  ({employee, employeeStore, errors, onInput}) => {\r\n  const positions = ['разработчик', 'менеджер', 'рекрутер'];\r\n  const employees = employeeStore.employees;\r\n  const possibleColleagues = employees.filter(e => e.id !== employee?.id);\r\n\r\n  const handleFullNameInput = (fullName: string) => {\r\n    employeeStore.update({...employee, fullName});\r\n    onInput();\r\n  }\r\n  const handleGenderChange = (gender: string) => {\r\n    employeeStore.update({...employee, gender});\r\n    onInput();\r\n  }\r\n  const handlePositionChange = (position: string) => {\r\n    employeeStore.update({...employee, position});\r\n    onInput();\r\n  }\r\n  const handleFiredChange = (fired: boolean) => {\r\n    employeeStore.update({...employee, fired});\r\n    onInput();\r\n  }\r\n  const handleBirthdayChange = (birthday: string) => {\r\n    employeeStore.update({...employee, birthday});\r\n    onInput();\r\n  }\r\n  const handleColleagueChange = (selectedOptions: HTMLCollectionOf<HTMLOptionElement>) => {\r\n    const ids: string[] = [];\r\n    for (let i = 0; i < selectedOptions.length; i++) {\r\n      ids.push(selectedOptions[i].value);\r\n    }\r\n\r\n    const colleagues = employees.filter(e => ids.includes(e.id.toString()));\r\n    employeeStore.update({...employee, colleagues})\r\n    onInput();\r\n  }\r\n\r\n  const makePositionOption = (value: string, index: number) => {\r\n    return (\r\n      <option\r\n        key={index}\r\n        value={value}\r\n        selected={employee?.position === value}>{value}</option>\r\n    )\r\n  }\r\n  const makeColleague = (possibleColleague: Employee, index: number) => {\r\n    const isColleague = employee?.colleagues?.includes(possibleColleague)\r\n\r\n    return (\r\n      <option\r\n        key={index}\r\n        value={possibleColleague.id}\r\n        selected={isColleague}>{possibleColleague.fullName}</option>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-3\">\r\n        <label className=\"form-label\">ФИО</label>\r\n        <input\r\n          value={employee?.fullName?? ''}\r\n          onInput={e => handleFullNameInput(e.currentTarget.value)}\r\n          className=\"form-control\" name=\"full-name\"/>\r\n        <span className=\"text-danger\">{errors.fullName}</span>\r\n      </div>\r\n      <div className=\"form-check\">\r\n        <input\r\n          checked={employee?.gender === 'мужчина'}\r\n          onChange={e => handleGenderChange(e.currentTarget.value)}\r\n          type=\"radio\"\r\n          value=\"мужчина\"\r\n          id=\"male\"\r\n          name=\"gender\"\r\n          className=\"form-check-input\"/>\r\n        <label className=\"form-check-label\" htmlFor=\"male\">Мужчина</label>\r\n      </div>\r\n      <div className=\"form-check mb-3\">\r\n        <input\r\n          checked={employee?.gender === 'женщина'}\r\n          onChange={e => handleGenderChange(e.currentTarget.value)}\r\n          type=\"radio\"\r\n          value=\"женщина\"\r\n          id=\"female\"\r\n          name=\"gender\"\r\n          className=\"form-check-input\"/>\r\n        <label className=\"form-check-label\" htmlFor=\"female\">Женщина</label>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <label>Должность</label>\r\n        <select\r\n          name=\"position\"\r\n          className=\"form-select\"\r\n          onChange={e => handlePositionChange(e.currentTarget.value)}>\r\n          {positions.map(makePositionOption)}\r\n        </select>\r\n      </div>\r\n      <div className=\"mb-3\">\r\n        <label>День рождения</label>\r\n        <input\r\n          value={employee?.birthday?? ''}\r\n          onChange={e => handleBirthdayChange(e.currentTarget.value)}\r\n          type=\"date\"\r\n          className=\"form-select\"/>\r\n      </div>\r\n      <div className=\"input-group mb-3\">\r\n        <input\r\n          checked={employee?.fired?? ''}\r\n          className=\"form-check-input\"\r\n          onChange={e => handleFiredChange(e.currentTarget.checked)}\r\n          type=\"checkbox\"\r\n          id=\"fired\"/>\r\n        <label htmlFor=\"fired\">Уволен</label>\r\n      </div>\r\n      <label>\r\n        Коллеги\r\n        <select\r\n          className=\"form-select colleagues-select\"\r\n          onChange={e => handleColleagueChange(e.currentTarget.selectedOptions)}\r\n          multiple>\r\n          {possibleColleagues.map(makeColleague)}\r\n        </select>\r\n      </label>\r\n    </>\r\n  )\r\n})","import {FC} from \"react\";\r\nimport {Employee} from \"../../../models\";\r\nimport {observer} from \"mobx-react\";\r\nimport {EmployeeStore} from \"../../../stores/EmployeeStore\";\r\nimport {Errors} from \"../../employees/EmployeeDictionary\";\r\nimport {EmployeeFormInputs} from \"./EmployeeFormInputs\";\r\n\r\ntype Props = {\r\n  employeeStore: EmployeeStore\r\n  employee: Employee\r\n  errors: Errors\r\n  onInput: () => void\r\n  setErrors: (value: Errors) => void\r\n}\r\n\r\nexport const EmployeeForm: FC<Props> = observer(\r\n  ({employee, employeeStore, errors, setErrors, onInput}) => {\r\n  const handleRemoveClick = () => {\r\n    employeeStore.remove(employee.id);\r\n    setErrors({has: false});\r\n  }\r\n\r\n  return (\r\n    <div className=\"card card-body employee-form\">\r\n      <div>\r\n        <EmployeeFormInputs\r\n          employeeStore={employeeStore}\r\n          employee={employee}\r\n          errors={errors}\r\n          onInput={onInput}/>\r\n        <button\r\n          disabled={employee === undefined}\r\n          onClick={handleRemoveClick}\r\n          className=\"btn btn-outline-danger\">Удалить</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})","import {EmployeeFormData} from \"../models\";\r\nimport {Errors} from \"../components/employees/EmployeeDictionary\";\r\n\r\nexport const validateEmployee = (employee?: EmployeeFormData) => {\r\n  const errors = {has: false} as Errors;\r\n  if (!employee || employee?.fullName === '') {\r\n    errors.fullName = 'ФИО обязательно';\r\n    errors.has = true;\r\n  }\r\n\r\n  return errors;\r\n}","import {observer} from \"mobx-react\";\r\nimport {useStores} from \"../../stores\";\r\nimport {EmployeeTable} from \"./EmployeeTable\";\r\nimport {EmployeeForm} from \"../forms/EmployeeForm\";\r\nimport {useState} from \"react\";\r\nimport {Employee} from \"../../models\";\r\nimport {validateEmployee} from \"../../utils/validateEmloyee\";\r\n\r\nexport const EmployeeDictionary = observer(() => {\r\n  const stores = useStores();\r\n  const employeeStore = stores.employee;\r\n  const employees = employeeStore.employees;\r\n  const [selectedId, setSelectedId] = useState<number>();\r\n  const [errors, setErrors] = useState({} as Errors)\r\n\r\n  const tryAddNewEmployee = () => {\r\n    if(hasErrors()) {\r\n      return;\r\n    }\r\n\r\n    const employee = employeeStore.add({\r\n      id: -1,\r\n      fullName: '',\r\n      fired: false,\r\n      position: 'разработчик',\r\n      gender: 'женщина',\r\n      birthday: '',\r\n      colleagues: []\r\n    });\r\n    setSelectedId(employee.id);\r\n  }\r\n  const trySetSelectedId = (id: number) => {\r\n    if(hasErrors()) {\r\n      return;\r\n    }\r\n\r\n    setSelectedId(id);\r\n  }\r\n  const getEmployById = (id?: number) => {\r\n    return employees.find(e => e.id === id) as Employee;\r\n  }\r\n  const hasErrors = () => {\r\n    const selected = getEmployById(selectedId);\r\n    const errors = validateEmployee(selected);\r\n    if (selected && errors.has) {\r\n      setErrors(errors);\r\n\r\n      return true;\r\n    }\r\n\r\n    setErrors({has: false});\r\n\r\n    return false;\r\n  }\r\n\r\n  const handleInput = () => {\r\n    const selected = getEmployById(selectedId);\r\n\r\n    if (selected === undefined) {\r\n      return;\r\n    }\r\n\r\n    const errors = validateEmployee(selected);\r\n    setErrors(errors);\r\n  }\r\n\r\n  return (\r\n    <div className=\"employee-dictionary\">\r\n      <div className=\"row mb-3\">\r\n        <div className=\"col-md-8 new-employee-btn-wrap\">\r\n          <button className=\"btn btn-outline-primary\" onClick={tryAddNewEmployee}>Добавить</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-md-8\">\r\n          <EmployeeTable\r\n            selectedEmployee={getEmployById(selectedId)}\r\n            employees={employees}\r\n            onEmployeeClick={trySetSelectedId}/>\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <EmployeeForm\r\n            setErrors={setErrors}\r\n            errors={errors}\r\n            employeeStore={employeeStore}\r\n            employee={getEmployById(selectedId)}\r\n            onInput={handleInput}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport type Errors = {\r\n  fullName?: string\r\n  has: boolean\r\n}","import React from 'react';\nimport './App.css';\nimport { StoresProvider } from './stores';\nimport {EmployeeStore} from \"./stores/EmployeeStore\";\nimport {EmployeeDictionary} from \"./components/employees/EmployeeDictionary\"\n\nfunction App() {\n  const employeeStore = new EmployeeStore();\n\n  return (\n    <StoresProvider value={{employee: employeeStore}}>\n      <div className=\"App\">\n        <EmployeeDictionary/>\n      </div>\n    </StoresProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}